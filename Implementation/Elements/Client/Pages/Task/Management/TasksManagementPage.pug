extends ../../../Layouts/Main/MainLayout.pug


block append Requirements

  include ../../../StaticPreview/_Requirements.pug

  -

    class TasksManagementPage {

      static mustDisplayTaskManagerAtNarrowScreens = false;

      static displayTaskManagerAtNarrowScreens() {
        TasksManagementPage.mustDisplayTaskManagerAtNarrowScreens = true;
        return PeopleManagementPage;
      }

    }
    

block append Metadata

  -

    HTML_PAGE_LANGUAGE = "ja";
    HTML_PAGE_TITLE = "課題管理 ｜ やまとダイワ几帳面さ";

    styleSheetsURIs = [ "@All/Primer", "@All/ExternalComponents", "@All/Internals" ];


block append SpecificContent

  .TasksManagementPage-SpecificContent.MainLayout-SpecificContentFillingElement

    +TasksViewer({
      loading: TasksManagementPageStatesSimulations.loading,
      error: TasksManagementPageStatesSimulations.error,
      noItems: TasksManagementPageStatesSimulations.noItems,
      noSearchResults: TasksManagementPageStatesSimulations.noSearchResults
    }).TasksManagementPage-TasksViewer
    
    +TaskManager(
      {
        targetTask: getRandomArrayElement(DummyData.Tasks),
        activationGuidance: "課題の詳細を閲覧する事や編集するにはカードをクリック・タップして下さい。"
      },
      { editingMode: true }
    ).TasksManagementPage-TaskManager&attributes({
      class: TasksManagementPage.mustDisplayTaskManagerAtNarrowScreens ?
          [ "TasksManagementPage-TaskManager__VisibleAtNarrowScreens" ] : 
          [ "TasksManagementPage-TaskManager__HiddenAtNarrowScreens" ]
    })

    
block FloatingAndFixedContent

  //- 
    〔 理論 〕 コンテナークエリの為、モーダルダイアログを「SpecificContent」の中に入れると正しく表示されない。
            https://stackoverflow.com/a/52937920/4818123
  +ModalDialog--YDF(
    { title: "課題の絞り込み" },
    { mustDisplay: false }
  ): +TasksFilteringPanel
